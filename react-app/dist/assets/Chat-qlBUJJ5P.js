import{c as d,u as g,r as s,j as e,U as j}from"./index-rV8FhJz0.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=d("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=d("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=d("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),w=()=>{const{language:a}=g(t=>t.ui),[x,l]=s.useState([]),[r,y]=s.useState(""),[c,u]=s.useState(!1),m=s.useRef(null),h=()=>{var t;(t=m.current)==null||t.scrollIntoView({behavior:"smooth"})};s.useEffect(()=>{h()},[x]);const b=async t=>{if(t.preventDefault(),!r.trim())return;const n={type:"user",content:r.trim(),timestamp:new Date};l(i=>[...i,n]),y(""),u(!0);try{const o=await(await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n.content})})).json();l(f=>[...f,{type:"bot",content:o.response,timestamp:new Date}])}catch{l(o=>[...o,{type:"bot",content:a==="en"?"Sorry, I encountered an error. Please try again.":"عذراً، واجهت خطأ. يرجى المحاولة مرة أخرى.",timestamp:new Date}])}finally{u(!1)}};return e.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)]",children:[e.jsxs("div",{className:"bg-white dark:bg-neutral-800 p-4 border-b border-neutral-200 dark:border-neutral-700",children:[e.jsx("h1",{className:"text-2xl font-bold",children:a==="en"?"Medical Chat Assistant":"مساعد الدردشة الطبي"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-300",children:a==="en"?"Ask me anything about your health concerns":"اسألني عن أي مخاوف صحية لديك"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x.map((t,n)=>e.jsxs("div",{className:`flex items-start gap-3 ${t.type==="user"?"flex-row-reverse":""}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center
              ${t.type==="user"?"bg-primary-100 dark:bg-primary-900/30":"bg-secondary-100 dark:bg-secondary-900/30"}`,children:t.type==="user"?e.jsx(j,{className:"w-5 h-5 text-primary-500"}):e.jsx(p,{className:"w-5 h-5 text-secondary-500"})}),e.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 
              ${t.type==="user"?"bg-primary-500 text-white":"bg-neutral-100 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100"}`,children:[e.jsx("p",{children:t.content}),e.jsx("span",{className:"text-xs opacity-70 mt-1 block",children:t.timestamp.toLocaleTimeString()})]})]},n)),c&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary-100 dark:bg-secondary-900/30 flex items-center justify-center",children:e.jsx(p,{className:"w-5 h-5 text-secondary-500"})}),e.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-700 rounded-lg p-3",children:e.jsx(k,{className:"w-5 h-5 animate-spin"})})]}),e.jsx("div",{ref:m})]}),e.jsx("form",{onSubmit:b,className:"p-4 border-t border-neutral-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:t=>y(t.target.value),placeholder:a==="en"?"Type your message...":"اكتب رسالتك...",className:"flex-1 form-input",disabled:c}),e.jsx("button",{type:"submit",disabled:c||!r.trim(),className:"btn btn-primary",children:e.jsx(v,{className:"w-5 h-5"})})]})})]})};export{w as default};
